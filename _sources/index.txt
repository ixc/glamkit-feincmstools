.. feincmstools documentation master file, created by
   sphinx-quickstart on Thu Feb  2 15:54:52 2012.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.
   Contents:
   .. toctree::
      :maxdepth: 2

FeinCMS-tools
=============

.. note:: This guide assumes a familiarity with FeinCMS and that
 FeinCMS is already installed for the project.

FeinCMS-tools is a wrapper around FeinCMS which provides a different,
and hopefully more convenient way to register content types.

Use cases
#########

We've found the FeinCMS requirement "one-master-Page-model" rather limiting.
Many a-times we've wanted to attach


Terminology
###########

We've found *content types* terminology used in FeinCMS confusing as it clashes
with ``django.contrib.contenttypes``.

* ``Lump`` - same as *content type* in FeinCMS world.
* ``LumpyContent`` - the model to which ``Lump``s can be attached. While with FeinCMS
  *content types* can be only attached to the ``Page`` model with FeinCMS-tools
  ``Lump``s can be added to any ``LumpyContent`` subclass.

Installation
############

Add ``feincmstools`` to ``INSTALLED_APPS``.

Configuration
#############

Lupms Definition
****************

By convention ``Lumps`` live in ``<app_name>/lumps.py``.
Defined lumps should inherit from ``models.Lump``.

.. highlight:: python

Sample lumps definition::

    from feincmstools.models import Lump

    class ReusableImageLump(Lump):

        # Note that without "related_name='+'" name clashes will occur
        # for inherited models.
        image_model = models.ForeignKey("images.Image", related_name="+")

        alt_text = models.CharField(max_length=100)

        class Meta:
            # Lumps have to be abstract
            abstract = True
            verbose_name = "reusable image"

    class OneOffImageLump(Lump):
            image = models.ImageField(upload_to='uploads/images')
            alt_text = models.CharField(max_length=100)

            class Meta:
                abstract = True
                verbose_name = "one-off image"

.. autoclass:: feincmstools.models.Lump
    :members:

Lumpy content definition
************************

.. autoclass:: feincmstools.base.LumpyContent
    :members:

Indices and tables
==================

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`

